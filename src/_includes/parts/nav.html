<div class="mx-10 my-7">
  <nav>
    <div class="py-2 border-b-2 mb-6 flex justify-between items-center">
      <div class="flex items-center">
        <a href="/"><img src="https://curious-grapes.one/wp-content/uploads/2024/03/cop-3.png" class="size-9 my-1 dark:invert" alt="Image"></a>
        <a class="nav-link ml-6 text-xl font-bold" href="{{ navlinks.home }}">Roman tries engineering</a>
      </div>
      <ul class="hidden md:flex justify-normal items-center">
        <li class="mr-6 text-xl"><a class="nav-link" href="{{ navlinks.about }}">About</a></li>
        <li class="mr-6 text-xl"><a class="nav-link" href="{{ navlinks.contacts }}">Contacts</a></li>
        <li class="mr-6 text-xl"><a class="nav-link" href="{{ navlinks.ua }}">UA</a></li>
        <li class="mr-6"><span class="material-symbols-outlined cursor-pointer my-2 toggleDarkMode" id="toggleDarkMode">dark_mode</span></li>
      </ul>
      <ul class="md:hidden flex items-center">
        <li><button id="menuButton" class="text-xl focus:outline-none"><span class="material-symbols-outlined" id="menuIcon">menu</span></button></li>
      </ul>
    </div>
  </nav>
  <div id="menu"
    class="hidden fixed top-15 right-2 bg-black bg-opacity-80 z-50 flex-col items-center justify-center space-y-6 text-white text-xl rounded-lg p-5 dark:bg-slate-200 dark:text-black dark:bg-opacity-90 ">
    
    <ul class="space-y-6 list-none">
      <li class="mr-6 text-xl"><a class="nav-link" href="{{ navlinks.about }}">About</a></li>
      <li class="mr-6 text-xl"><a class="nav-link" href="{{ navlinks.contacts }}">Contacts</a></li>
      <li class="flex-grow"></li>
      <li class="mr-6"><span class="material-symbols-outlined cursor-pointer toggleDarkMode" id="toggleDarkMode">dark_mode</span>
      <a class="nav-link" href="{{ navlinks.ua }}">UA</a></li>
    </ul>
  </div>
</div>

<script>
  const menuButton = document.getElementById('menuButton');
  const menuIcon = document.getElementById('menuIcon');
  const menu = document.getElementById('menu');

  menuButton.addEventListener('click', () => {
    menu.classList.toggle('flex');
    menu.classList.add('animate__animated', 'animate__fadeIn');
    menu.style.setProperty('--animate-duration', '0.2s');
    menu.classList.toggle('hidden');
    
    menuIcon.classList.add('animate__animated', 'animate__rotateIn');
    menuIcon.style.setProperty('--animate-duration', '0.2s');
    menuIcon.addEventListener('animationend', () => {
      menuIcon.classList.remove('animate__rotateIn');
    }, { once: true });
    
    menuIcon.textContent = menuIcon.textContent === 'menu' ? 'close' : 'menu';
  });

  document.addEventListener('click', (event) => {
    if (!menu.contains(event.target) && !menuButton.contains(event.target) && !menu.classList.contains('hidden')) {
      menu.classList.add('hidden');
      menu.classList.remove('flex');
      
      menuIcon.classList.add('animate__animated', 'animate__rotateIn');
      menuIcon.style.setProperty('--animate-duration', '0.2s');
      menuIcon.addEventListener('animationend', () => {
        menuIcon.classList.remove('animate__rotateIn');
      }, { once: true });
      
      menuIcon.textContent = 'menu';
    }
  });
</script>
